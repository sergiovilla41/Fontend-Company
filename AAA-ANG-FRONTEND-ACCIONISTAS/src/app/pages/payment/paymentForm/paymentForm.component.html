<mat-progress-bar mode="indeterminate" *ngIf="!loadings"></mat-progress-bar>

<div class="px-5 text-center-test animate-fadeIn pt-20" *ngIf="!loadings">
  <div class="field col-12 md:col-6">
    <p-skeleton width="15rem" styleClass="mb-9" class="px-5" height="2rem" borderRadius="16px"></p-skeleton>
    <div class="grid gap-4 p-fluid px-8">
      <div class="w-full px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-4 px-8 pb-4">
          <div class="w-full flex flex-wrap flex-col pb-3">
            <p-skeleton height="4rem" borderRadius="16px"></p-skeleton>
          </div>
          <div class="w-full flex flex-wrap flex-col pb-3">
            <p-skeleton height="4rem" borderRadius="16px"></p-skeleton>
          </div>
          <div class="w-full flex flex-wrap flex-col pb-3">
            <p-skeleton height="4rem" borderRadius="16px"></p-skeleton>
          </div>
          <div class="w-full flex flex-wrap flex-col pb-3">
            <p-skeleton height="4rem" borderRadius="16px"></p-skeleton>
          </div>
        </div>
        <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-4 px-8">
          <div class="w-full flex flex-wrap flex-col pb-3">
            <p-skeleton height="4rem" borderRadius="16px"></p-skeleton>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="px-5 text-center-test animate-fadeIn" *ngIf="loadings">

  <div>
    <button pButton type="button" icon="pi pi-arrow-left" (click)="goBack()" label="Cerrar" class="volver"></button>
  </div>

  <form class="mt-8 space-y-6" [formGroup]="form">

    <div class="card shadow ax-w-full border-b border-l border-slate-300 pb-5">
      <div class="mb-11 pt-8 pl-12">
        <h1>{{task}} de Pago</h1>
      </div>

      <div class="grid gap-4 p-fluid px-8">
        <div class="w-full px-8">
          <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-4 px-8 pb-4">
            <div class="w-full flex flex-wrap flex-col pb-3">
              <div class="flex items-center gap-3">
                <span class="w-full p-float-label">
                  <input formControlName="beneficiario" name="beneficiario" type="text" pInputText>
                  <label for="beneficiario">Beneficiario</label>
                </span>
                <div>
                  <em class="fa-sharp fa-solid fa-circle-info fa-lg" pTooltip="Beneficiario" tooltipPosition="top"
                    style="color: #0c82c5;"></em>
                </div>
              </div>
            </div>
            <div class="w-full flex flex-wrap flex-col pb-3">
              <div class="flex items-center gap-3">
                <span class="w-full p-float-label">
                  <input formControlName="concepto" name="concepto" type="text" pInputText>
                  <label for="concepto">Concepto</label>
                </span>
                <div>
                  <em class="fa-sharp fa-solid fa-circle-info fa-lg" pTooltip="Concepto" tooltipPosition="left"
                    style="color: #0c82c5;"></em>
                </div>
              </div>
            </div>
            <div class="w-full flex flex-wrap flex-col pb-3">
              <div class="flex items-center gap-3">
                <span class="w-full p-float-label">
                  <p-calendar [(ngModel)]="fecha_pago" formControlName="fecha_pago" dateFormat="dd-mm-yy"
                  [maxDate]="maxDate" inputId="fecha_pago"></p-calendar>
                  <label for="fecha_pago">Fecha de pago</label>
                </span>
                <div>
                  <em class="fa-sharp fa-solid fa-circle-info fa-lg" pTooltip="Fecha de pago" tooltipPosition="top"
                    style="color: #0c82c5;"></em>
                </div>
              </div>
            </div>
            <div class="w-full flex flex-wrap flex-col pb-3">
              <div class="flex items-center gap-3">
                <span class="w-full p-float-label">
                  <input formControlName="comprobante" name="comprobante" type="text" pInputText>
                  <label for="comprobante">Comprobante</label>
                </span>
                <div>
                  <em class="fa-sharp fa-solid fa-circle-info fa-lg" pTooltip="Comprobante" tooltipPosition="left"
                    style="color: #0c82c5;"></em>
                </div>
              </div>
            </div>
          </div>
          <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-4 px-8">
            <div class="w-full flex flex-wrap flex-col pb-3">
              <div class="flex items-center gap-3">
                <span class="w-full p-float-label">
                  <p-inputNumber inputId="integeronly" name="retencion" type="number"
                  formControlName="retencion"></p-inputNumber>
                  <label for="retencion">Retención</label>
                </span>
                <div>
                  <em class="fa-sharp fa-solid fa-circle-info fa-lg" pTooltip="Retención" tooltipPosition="top"
                    style="color: #0c82c5;"></em>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <p-divider class="flex px-8 pt-8"></p-divider>

      <div class="card flex justify-content-center gap-2">
        <p-confirmDialog [style]="{width: '50vw'}"></p-confirmDialog>
      </div>

      <div class="flex justify-end pt-3 px-8">
        <button pButton (click)="addPayment()" label="Guardar"
          class="p-button-rounded botonesPadding p-button-sm"></button>
      </div>
    </div>

  </form>
</div>
